**约束**是为了保证数据库中数据的正确性、有效性和完整性，作用于表中字段上的规则，用于限制存储在表中的数据。

| 约束     | 关键字          | 描述                                                            |
| -------- | --------------- | ----------------------------------------------------------------|
| 非空约束 | $NOT ~ NULL$    | 限制该字段的数据不能为 $null$                                   |
| 唯一约束 | $UNIQUE$        | 保证该字段的所有数据都是唯一的、不重复的                        |
| 主键约束 | $PRIMARY$       | 主键是一行的唯一标识，要求非空且唯一（自增：$AUTO\_INCREMENT$） |
| 默认约束 | $DEFAULT$       | 保存数据是，如果未指定该字段的值，则采用默认值                  |
| 检查约束 | $CHECK$         | 保证字段值满足一个条件                                          |
| 外键约束 | $FOREIGN ~ KEY$ | 用来让两张表的数据之间建立连接，保证数据的一致性和完整性        |

```mysql
CREATE TABLE '表名'(
    字段 字段类型 约束条件,
    ...
);
```

## 外键约束

添加外键

```mysql
CREATE TABLE 表名(
    字段名 字段类型 [CONSTRAINT] [外键名] FOREIGN KEY 外键字段名 REFERENCES 主表 主表字段名,
    ...
);
```

```mysql
ALTER TABLE 表名 ADD CONSTRAINT 外键名称 FOREIGN KEY 外键字段名 REFERENCES 主表 主表字段名；
```

删除外键

```mysql
ALTER TABLE 表名 DROP FOREIGN 外键名称;
```

删除/更新行为

```mysql
ALTER TABLE 表名 ADD CONSTRAINT 外键名称 FOREIGN KEY 外键字段名 REFERENCES 主表 主表字段名 ON UPDATE 更新行为 ON DELETE 删除行为；
```

| 行为            | 说明                                                                                                                     |
| --------------- | ------------------------------------------------------------------------------------------------------------------------ |
| $ON ~ ACTION$   | 当在父表中删除/更新对应记录时，首先检查改了记录是否有对应外键，如果有则不允许删除。（与 $RESTRICT$ 一致 ）               |
| $RESTRICT$      | 当在父表中删除/更新对应记录时，首先检查改了记录是否有对应外键，如果有则不允许删除。（与 $NO ~ ACTION$ 一致）             |
| $CASCADE$       | 当在父表中删除/更新对应记录时，首先检查改了记录是否有对应外键，如果有，则也删除/更新外键在子表中的记录。                 |
| $SET ~ NULL$    | 当在父表中删除对应记录时，首先检查该记录是否有对应外键，如果有则设置子表中该外键值为 $null$。（要求该外键允许取 $null$） |
| $SET ~ DEFAULT$ | 附表有变更时，子表将外键列设置成一个默认的值。                                                                           |

