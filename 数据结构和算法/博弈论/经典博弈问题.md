# Bash Game

一共 $n$ 颗石子，两个人轮流拿走，每次可拿走 $1$ ~ $m$ 颗，拿走最后一颗石子的人获胜。

## 推导

只剩 $0$ 颗石子时，此时的玩家处于必败态。

对于任意非零颗石子，此时的玩家如果能使下一个玩家进入必败态，则该玩家处于必胜态，否则该玩家处于必败态。

```c++
bool game(int n, int m)
{
	vector<bool> willwin(n + 1, false);
	for (int i = 1; i <= n; ++i)
	{
		for (int j = 1; j <= m; ++j)
		{
			if (i - j < 0)
				break;
			if (willwin[i - j] == false)
				willwin[i] = true;
		}
	}
	return willwin[n];
}
```

## 结论

如果 $n \% (m + 1) \neq 0$，先手胜，否则后手胜。

```c++
bool game(int n, int m)
{
	return n % (m + 1) != 0;
}
```

## 例题

[P4018 Roy&October之取石子 - 洛谷](https://www.luogu.com.cn/problem/P4018)(Bash Game 拓展)



